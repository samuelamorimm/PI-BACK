{% extends 'clinica/base.html' %}

{% block conteudo %}
    <div class="container">
        <h2>Agendas</h2>
        <form action="{% url 'add_agenda' %}" method="POST">
            {% csrf_token %}
            <div>{{fields}}</div>
            <div>{{form.especialidade.label}}</div>
            <div>{{form.especialidade}}</div>

            <div>{{form.medico.label}}</div>
            <div>{{form.medico}}</div>

            <label for="">Data: </label>
            <div><input type="date" name="data" id=""></div>

            <div>{{form.horario.label}}</div>
            <div>{{form.horario}}</div>

            <div>{{form.descricao.label}}</div>
            <div>{{form.descricao}}</div>
            <button type="submit" class="btn btn-success mt-4">Registrar Agenda</button>
        </form>
    </div>

    <div class="container">
        <h2>Agendas Disponiveis</h2>
        <table class="table-bordered">
            <tr>
                <th class="p-2 text-center">ID</th>
                <th class="p-2 text-center">Medico</th>
                <th class="p-2 text-center">Especialidade</th>
                <th class="p-2 text-center">Hor√°rio</th>
                <th class="p-2 text-center">Data</th>
            </tr>
            {% for agenda in agendas %}
            <tr>
                <td class="p-2 text-center">{{agenda.id}}</td>
                <td class="p-2 text-center">{{agenda.medico}}</td>
                <td class="p-2 text-center">{{agenda.especialidade}}</td>
                <td class="p-2 text-center">{{agenda.horario}}</td>
                <td class="p-2 text-center">{{agenda.data}}</td>
                <td class="p-2 text-center"><a href="{% url 'agenda_delete' agenda.id %}" class='btn btn-danger'>Delete</a></td>
            </tr>
            {% endfor %}
        </table>
    </div>
{% endblock %}